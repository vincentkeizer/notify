(function(n){function r(){this._items=[]}var i={show:function(){var f=n(this),t=f.data("notify"),i,r,u;t&&(i=n.notify.queue[t.container.attr("data-notify-id")],i.add(t.notifier)?(r=i.getYPosition(t.notifier),t.notifier.position().top!=r&&t.notifier.animate({top:r})):(t.notifier.show().animate({opacity:t.settings.opacity},t.settings.animationDuration).css({top:i.getYPosition(t.notifier)}),t.settings.displayTime&&!t.settings.sticky&&setTimeout(function(){f.trigger("hide")},t.settings.displayTime)),t.container.attr("data-notify-content")=="adjust"&&i.isLast(t.notifier)&&(u=i.getHeight(),t.container.css("padding-top")!=u+"px"&&t.container.animate({"padding-top":u},t.settings.animationDuration)))},hide:function(){var i=n(this),t=i.data("notify");t&&t.notifier.css("opacity")&&t.notifier.animate({opacity:0},t.settings.animationDuration,function(){t.notifier.hide(),n.notify.queue[t.container.attr("data-notify-id")].remove(t.notifier),t.settings.adjustContent&&t.container.animate({"padding-top":n.notify.queue[t.container.attr("data-notify-id")].getHeight()},t.settings.animationDuration)})}},t={init:function(t){var f={animationDuration:500,displayTime:3e3,appendTo:"body",autoShow:!0,closeText:"x",sticky:!1,type:"info",adjustContent:!1,notifyClass:"",opacity:1},e=t&&t.type?t.type:f.type,u=n.extend({},f,n.notify.settings[e]);return u=n.extend(u,t),u.type=n.notify.settings[e]?e:f.type,n(this).each(function(){var f=n(this),h=f.data("notify"),e,t,o,s;h||(e=n("<div />",{"class":"notify "+u.type+(u.notifyClass?" "+u.notifyClass:""),"data-notifier-id":(new Date).getTime(),css:{display:"none",opacity:0,position:"absolute"}}).bind("update",function(){f.trigger("show")}).append(n("<span />",{"class":"close",text:u.closeText,click:function(){f.trigger("hide")}})),f.bind("show",i.show).bind("hide",i.hide),e.append(f),t=n(u.appendTo),t.attr("data-notify-id")||(o=(new Date).getTime(),n.notify.queue[o]=new r,t.attr("data-notify-id",o),s=t.css("position"),s=="static"&&t.css("position","relative"),u.adjustContent&&t.attr("data-notify-content","adjust")),t.append(e),f.data("notify",{settings:u,notifier:e,container:t}),u.autoShow&&f.trigger("show"))})},destroy:function(){return this.each(function(){var i=n(this),t=i.data("notify");t&&t.notifier.remove()})},show:function(){return this.each(function(){var t=n(this).data("notify");t&&n(this).trigger("show")})},hide:function(){return this.each(function(){var t=n(this).data("notify");t&&n(this).trigger("hide")})}};n.fn.notify=function(i){var r=i;if(t[r])return t[r].apply(this,Array.prototype.slice.call(arguments,1));if(typeof r!="object"&&r)n.error("Method "+r+" does not exist on jQuery notify");else return t.init.apply(this,arguments)},n.extend(r.prototype,{add:function(t){var i=n.inArray(t,this._items)>-1;return i||this._items.push(t),i},remove:function(t){var i=n.inArray(t,this._items);this._items.splice(i,1),this.update(i)},update:function(n){for(var r=n||0,i,t=r;t<this._items.length;t++)i=this._items[t],i&&i.length&&i.trigger("update")},getYPosition:function(n){for(var r=0,i,t=0;t<this._items.length;t++){if(i=this._items[t],i==n)break;r+=i.outerHeight(!0)}return r},getHeight:function(){for(var t=0,n=0;n<this._items.length;n++)t+=this._items[n].outerHeight(!0);return t},isLast:function(t){return n.inArray(t,this._items)==this._items.length-1}}),n.notify={queue:{},settings:{info:{},success:{sticky:!0,type:"success"},error:{sticky:!0,type:"error"},notification:{type:"notification"}}},n(window).resize(function(){for(var t in n.notify.queue)n.notify.queue[t].update()})})(jQuery);