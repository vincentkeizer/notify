(function(n){function r(){this._items=[]}var i={show:function(){var r=n(this),t=r.data("notify"),i;t&&(i=n.notify.queue[t.container.attr("data-notify-id")],i.add(t.notifier)?t.notifier.animate({top:i.getYPosition(t.notifier)}):(t.notifier.animate({opacity:1},t.settings.animationDuration).css({top:i.getYPosition(t.notifier)}),t.settings.displayTime&&!t.settings.sticky&&setTimeout(function(){r.trigger("hide")},t.settings.displayTime)),t.settings.adjustContent&&t.container.animate({"padding-top":i.getHeight()},t.settings.animationDuration))},hide:function(){var i=n(this),t=i.data("notify");t&&t.notifier.css("opacity")&&t.notifier.animate({opacity:0},t.settings.animationDuration,function(){n.notify.queue[t.container.attr("data-notify-id")].remove(t.notifier),t.settings.adjustContent&&t.container.animate({"padding-top":n.notify.queue[t.container.attr("data-notify-id")].getHeight()},t.settings.animationDuration)})}},t={init:function(t){var u=n.extend({animationDuration:500,displayTime:3e3,appendTo:"body",autoShow:!0,closeText:"x",sticky:!1,type:"default",adjustContent:!1},t);return n(this).each(function(){var t=n(this),s=t.data("notify"),e,f,o;s||(e=n("<div />",{"class":"notify "+u.type,"data-notifier-id":(new Date).getTime(),css:{opacity:0,position:"absolute"}}).bind("update",function(){t.trigger("show")}).append(n("<span />",{"class":"close",text:u.closeText,click:function(){t.trigger("hide")}})),t.bind("show",i.show).bind("hide",i.hide),e.append(t),f=n(u.appendTo),f.attr("data-notify-id")||(o=(new Date).getTime(),n.notify.queue[o]=new r,f.attr("data-notify-id",o).css("position","relative")),f.append(e),t.data("notify",{settings:u,notifier:e,container:f}),u.autoShow&&t.trigger("show"))})},destroy:function(){return this.each(function(){var i=n(this),t=i.data("notify");t&&t.notifier.remove()})},show:function(){return this.each(function(){var t=n(this).data("notify");t&&n(this).trigger("show")})},hide:function(){return this.each(function(){var t=n(this).data("notify");t&&n(this).trigger("hide")})}};n.fn.notify=function(i){var r=i;if(t[r])return t[r].apply(this,Array.prototype.slice.call(arguments,1));if(typeof r!="object"&&r)n.error("Method "+r+" does not exist on jQuery notify");else return t.init.apply(this,arguments)},n.extend(r.prototype,{add:function(t){var i=n.inArray(t,this._items)>-1;return i||this._items.push(t),i},remove:function(t){var i=n.inArray(t,this._items);this._items.splice(i,1),this.update(i)},update:function(n){for(var r=n||0,i,t=r;t<this._items.length;t++)i=this._items[t],i&&i.length&&i.trigger("update")},getYPosition:function(n){for(var r=0,i,t=0;t<this._items.length;t++){if(i=this._items[t],i==n)break;r+=i.outerHeight(!0)}return r},getHeight:function(){for(var t=0,n=0;n<this._items.length;n++)t+=this._items[n].outerHeight(!0);return t}}),n.notify={queue:{}},n(window).resize(function(){for(var t in n.notify.queue)n.notify.queue[t].update()})})(jQuery);